<!DOCTYPE html>
<html> <script src="js/jquery.js"></script>
	<script src="js/jquery-migrate-1.2.1.js"></script>

   <BODY ONLOAD='listadebebidas()'> 
   <div id='solo'></div>

     <script type="text/javascript">
function listadebebidas() {

    $('#solo').append("<h1 id = 'titulo'>Lista de bebidas </h1><table id='tabla' class='display'><thead><tr><th scope='col' abbr='Starter'>Cod_Bebida</th><th scope='col' abbr='Starter'>Nombre</th><th scope='col' abbr='Starter'>Ingredientes</th><th scope='col' abbr='Starter'>Precio_ind</th><th scope='col' abbr='Starter'>Precio_porc</th><th scope='col' abbr='Starter'>Precio_T_ind</th><th scope='col' abbr='Starter'>Precio_T_porc</th><th scope='col' abbr='Starter'>Foto</th></tr></thead><tbody></tbody></table>");
       
  
    var NuevaBebida = new Object();
    NuevaBebida.op= "listar";
    var fotillo="";

    $.ajax({
    url:"http://localhost:4684/Api/Bebidas", 
   
        type: 'POST',
        dataType: 'json',
        data: NuevaBebida,
        success: function (data, textStatus, xhr) {
            
                for (var ele in data) {

                    var tableRef = document.getElementById('tabla').getElementsByTagName('tbody')[0];

                    // Insert a row in the table at the last row
                    var newRow = tableRef.insertRow(tableRef.rows.length);

                    // Insert a cell in the row at index 0
                    var newCell = newRow.insertCell(0);

                    // Append a text node to the cell
                    var newText = document.createTextNode(data[ele]._Cod_bebida)

                    newCell.appendChild(newText);

                    var newCell2 = newRow.insertCell(1);

                    //
                    var newText2 = document.createTextNode(data[ele]._Nombre );
                    newCell2.appendChild(newText2);
                    //
                    var newCell3 = newRow.insertCell(2);


                    var newText3 = document.createTextNode(data[ele]._Ingredientes);
                    newCell3.appendChild(newText3);

                    var newCell4 = newRow.insertCell(3);
                    
                    var newText4 = document.createTextNode(data[ele]._Precio_ind);
                    newCell4.appendChild(newText4);

                    var newCell5 = newRow.insertCell(4);
                    
                    var newText5 = document.createTextNode(data[ele]._Precio_porc);
                    newCell5.appendChild(newText5);

                    var newCell6 = newRow.insertCell(5);
                    
                    var newText6 = document.createTextNode(data[ele]._Precio_T_ind);
                    newCell6.appendChild(newText6);

                    var newCell7 = newRow.insertCell(6);
                    
                    var newText7 = document.createTextNode(data[ele]._Precio_T_porc);
                    newCell7.appendChild(newText7);

                    var newCell8 = newRow.insertCell(7);
                    
                    var newText8 = document.createTextNode(data[ele]._foto);
                    newCell8.appendChild(newText8);
                    fotillo=data[ele]._foto;
                    alert(fotillo);


                  

            }


        },
        error: function (xhr, textStatus, errorThrown) {
            alert(xhr);
        }
    });

}
       </script>
    </BODY>
</html>
      
